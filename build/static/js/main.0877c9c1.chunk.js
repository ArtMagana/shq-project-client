(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(58)},34:function(e,t,a){},35:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);a(28);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),s=(a(34),a(2)),o=a(4),i=a(6),m=a(5),u=a(7),p=(a(35),a(63)),h=a(62),d=a(11),g=a.n(d),f=a(59),v=a(12),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.name,n=a.state.specification,r=a.state.measure,c=a.state.packing,l=a.state.code,s=a.state.quantity,o=a.state.cost,i=a.state.currency,m=a.state.iva,u=a.state.igi,p=a.state.presentation,h=a.state.dimensions;g.a.post("http://localhost:5000/api/products",{name:t,specification:n,measure:r,packing:c,code:l,quantity:s,cost:o,currency:i,iva:m,igi:u,presentation:p,dimensions:h},{withCredentials:!0}).then(function(){a.props.getData(),a.setState({code:"",name:"",specification:"",measure:"",presentation:"",packing:"",dimensions:"",currency:"",cost:"",iva:"",igi:"",quantity:""})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.state={code:"",name:"",specification:"",measure:"",presentation:"",packing:"",dimensions:"",currency:"",cost:"",iva:"",igi:"",quantity:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"form-group",onSubmit:this.handleFormSubmit},r.a.createElement("div",null,r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-1"},r.a.createElement("input",{type:"text",className:"form-control",name:"code",placeholder:"Code",value:this.state.code,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"col-2"},r.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Product Name",value:this.state.name,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"col-4"},r.a.createElement("input",{type:"text",className:"form-control",name:"specification",placeholder:"Product Specification",value:this.state.specification,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",{disabled:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"quantity",className:"form-control",placeholder:"Quantity",value:this.state.quantity,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("fieldset",{disabled:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"cost",className:"form-control",placeholder:"$ Unitary Cost",value:this.state.cost,onChange:function(t){return e.handleChange(t)}})))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-1"},r.a.createElement("input",{type:"text",className:"form-control",name:"measure",placeholder:"Unit (u)",value:this.state.measure,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"col-1"},r.a.createElement("input",{type:"text",className:"form-control",name:"packing",placeholder:"Pack (p)",value:this.state.packing,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"col-1"},r.a.createElement("input",{type:"number",className:"form-control",name:"presentation",placeholder:"u / p",value:this.state.presentation,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"col-1"},r.a.createElement("input",{type:"number",className:"form-control",name:"dimensions",placeholder:"cm3",value:this.state.dimensions,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"col-1"},r.a.createElement("input",{type:"text",className:"form-control",name:"currency",placeholder:"Currency",value:this.state.currency,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"col-1"},r.a.createElement("input",{type:"number",className:"form-control",name:"iva",placeholder:"IVA",value:this.state.iva,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"col-1"},r.a.createElement("input",{type:"number",className:"form-control",name:"igi",placeholder:"IGI",value:this.state.igi,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Add"}))))}}]),t}(n.Component),b=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).getAllProducts=function(){g.a.get("http://localhost:5000/api/products",{withCredentials:!0}).then(function(t){e.setState({listOfProducts:t.data})})},e.state={listOfProducts:[]},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllProducts()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(E,{getData:function(){return e.getAllProducts()}})),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Code"),r.a.createElement("th",{scope:"col"},"Product Name"),r.a.createElement("th",{scope:"col"},"Product Specification"),r.a.createElement("th",{scope:"col"},"Measure"),r.a.createElement("th",{scope:"col"},"Presentation"),r.a.createElement("th",{scope:"col"},"Package"),r.a.createElement("th",{scope:"col"},"Dimensions"),r.a.createElement("th",{scope:"col"},"Currency"),r.a.createElement("th",{scope:"col"},"IGI"),r.a.createElement("th",{scope:"col"},"IVA"),r.a.createElement("th",{scope:"col"},"Quantity"),r.a.createElement("th",{scope:"col"},"Cost"))),r.a.createElement("tbody",null,this.state.listOfProducts.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e.code),r.a.createElement("th",{scope:"row",key:e._id},r.a.createElement(f.a,{to:"/products/".concat(e._id)},e.name)),r.a.createElement("td",null,e.specification),r.a.createElement("td",null,e.measure),r.a.createElement("td",null,e.presentation),r.a.createElement("td",null,e.packing),r.a.createElement("td",null,e.dimensions),r.a.createElement("td",null,e.currency),r.a.createElement("td",null,e.igi),r.a.createElement("td",null,e.iva),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.cost))})))))}}]),t}(n.Component),N=a(15),y=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})};var a=g.a.create({baseURL:"http://localhost:5000/api",withCredentials:!0});this.service=a},C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).logoutUser=function(){a.service.logout().then(function(){a.setState({loggedInUser:null}),a.props.getUser(null)})},a.state={loggedInUser:null},a.service=new y,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(N.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item nav-link"},r.a.createElement(f.a,{className:"list-group-item list-group-item-action",to:"/"},"Welcome: ",this.state.loggedInUser.username)),r.a.createElement("li",{className:"nav-item nav-link"},r.a.createElement(f.a,{className:"list-group-item list-group-item-action",to:"/products"},"Products")),r.a.createElement("li",{className:"nav-item nav-link"},r.a.createElement(f.a,{to:"/"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.logoutUser()}},"Logout"))))))):r.a.createElement("div",{className:"container-fluid"},r.a.createElement("ul",{className:"nav justify-content-center"},r.a.createElement("li",{className:"nav-item nav-link"},r.a.createElement(f.a,{className:"list-group-item list-group-item-action",to:"/"},"shq")),r.a.createElement("li",{className:"nav-item nav-link"},r.a.createElement(f.a,{className:"list-group-item list-group-item-action",to:"/"},"Login")),r.a.createElement("li",{className:"nav-item nav-link"},r.a.createElement(f.a,{className:"list-group-item list-group-item-action",to:"/signup"},"Signup"))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){var t=a.state.name,n=a.state.specification,r=a.state.measure,c=a.state.presentation,l=a.state.packing,s=a.state.dimensions,o=a.state.currency,i=a.state.iva,m=a.state.igi;e.preventDefault(),g.a.put("http://localhost:5000/api/products/".concat(a.props.theProduct._id),{name:t,specification:n,measure:r,presentation:c,packing:l,dimensions:s,currency:o,iva:i,igi:m},{withCredentials:!0}).then(function(){a.props.getTheProduct(),a.props.history.push("/products")}).catch(function(e){return console.log(e)})},a.handleChangeName=function(e){a.setState({name:e.target.value})},a.handleChangeSpec=function(e){a.setState({specification:e.target.value})},a.handleChangeMeasure=function(e){a.setState({measure:e.target.value})},a.handleChangePres=function(e){a.setState({presentation:e.target.value})},a.handleChangePack=function(e){a.setState({packing:e.target.value})},a.handleChangeDim=function(e){a.setState({dimensions:e.target.value})},a.handleChangeCurr=function(e){a.setState({currency:e.target.value})},a.handleChangeIVA=function(e){a.setState({iva:e.target.value})},a.handleChangeIGI=function(e){a.setState({igi:e.target.value})},a.state={name:a.props.theProduct.name,specification:a.props.theProduct.specification,measure:a.props.theProduct.measure,presentation:a.props.theProduct.presentation,packing:a.props.theProduct.packing,dimensions:a.props.theProduct.dimensions,currency:a.props.theProduct.currency,iva:a.props.theProduct.iva,igi:a.props.theProduct.igi},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",null,"Edit product information"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Name:"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Product name",value:this.state.name,onChange:function(t){return e.handleChangeName(t)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Specification:"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{type:"text",className:"form-control",name:"specification",placeholder:"Product Description",value:this.state.specification,onChange:function(t){return e.handleChangeSpec(t)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Measure:"),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("input",{type:"text",className:"form-control",name:"measure",placeholder:"Unit (u)",value:this.state.measure,onChange:function(t){return e.handleChangeMeasure(t)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Package:"),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("input",{type:"text",className:"form-control",name:"packing",placeholder:"Pack (p)",value:this.state.packing,onChange:function(t){return e.handleChangePack(t)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Presentation:"),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("input",{type:"number",className:"form-control",name:"presentation",placeholder:"u / p",value:this.state.presentation,onChange:function(t){return e.handleChangePres(t)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Dimensions:"),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("input",{type:"number",className:"form-control",name:"dimensions",placeholder:"cm3",value:this.state.dimensions,onChange:function(t){return e.handleChangeDim(t)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Currency:"),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("input",{type:"text",className:"form-control",name:"currency",placeholder:"Currency",value:this.state.currency,onChange:function(t){return e.handleChangeCurr(t)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"IVA:"),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("input",{type:"number",className:"form-control",name:"iva",placeholder:"IVA",value:this.state.iva,onChange:function(t){return e.handleChangeIVA(t)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"IGI:"),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("input",{type:"number",className:"form-control",name:"igi",placeholder:"IGI",value:this.state.igi,onChange:function(t){return e.handleChangeIGI(t)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("input",{type:"submit",className:"col btn btn-primary",value:"Edit"})))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getSingleProduct=function(){var e=a.props.match.params;g.a.get("http://localhost:5000/api/products/".concat(e.id),{withCredentials:!0}).then(function(e){var t=e.data;a.setState(t)}).catch(function(e){console.log(e)})},a.renderEditForm=function(){if(a.state.name)return r.a.createElement(w,Object.assign({theProduct:a.state,getTheProduct:a.getSingleProduct},a.props));a.getSingleProduct()},a.deleteProduct=function(e){var t=a.props.match.params;g.a.delete("http://localhost:5000/api/products/".concat(t.id),{withCredentials:!0}).then(function(e){a.props.history.push("/products")}).catch(function(e){console.log(e)})},a.ownershipCheck=function(e){if(a.props.loggedInUser&&e.owner===a.props.loggedInUser._id)return r.a.createElement("div",null,r.a.createElement("div",null,a.renderEditForm()," "),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a.deleteProduct(a.state._id)}},"Delete Product"))},a.state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getSingleProduct()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(f.a,{to:"/products"},"Back to products"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},this.ownershipCheck(this.state)),r.a.createElement("div",{className:"col-6"},r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.code),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.name),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.specification),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.measure),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.presentation),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.packing),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.dimensions),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.currency),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.iva),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.igi),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.cost),r.a.createElement("li",{className:"list-group-item list-group-item-action"},this.state.quantity)))))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.signup(t,n).then(function(e){a.setState({username:"",password:""}),a.props.getUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.state={username:"",password:""},a.service=new y,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",placeholder:"Enter your username",className:"form-control mb-2",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"text",name:"password",placeholder:"Enter your password",className:"form-control mb-2",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Signup"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Already have an account?",r.a.createElement(f.a,{to:"/"}," Login")))))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:"",password:""}),a.props.getUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.state={username:"",password:""},a.service=new y,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",placeholder:"Enter your username",className:"form-control mb-2",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"text",name:"password",placeholder:"Enter your password",className:"form-control mb-2",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Enter"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Don't have an account yet?",r.a.createElement(f.a,{to:"/signup"}," Signup")))))}}]),t}(n.Component),S=a(26),P=a(60),I=function(e){var t=e.component,a=e.user,n=Object(S.a)(e,["component","user"]);return console.log(Object(N.a)({component:t,user:a},n)),r.a.createElement(h.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,Object.assign({},e,{loggedInUser:a})):r.a.createElement(P.a,{to:{pathname:"/",state:{from:e.location}}})}}))},U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getTheUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null},a.service=new y,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"render",value:function(){var e=this;return this.fetchUser(),this.state.loggedInUser?r.a.createElement("div",{className:"App"},r.a.createElement(C,{className:"navbar navbar-expand-lg navbar-light bg-light",userInSession:this.state.loggedInUser,getUser:this.getTheUser}),r.a.createElement(p.a,null,r.a.createElement(I,{user:this.state.loggedInUser,path:"/products/:id",component:O}),r.a.createElement(I,{user:this.state.loggedInUser,path:"/products",component:b}))):r.a.createElement("div",{className:"App"},r.a.createElement(C,{className:"navbar navbar-expand-lg navbar-light bg-light",userInSession:this.state.loggedInUser,getUser:this.getTheUser}),r.a.createElement(p.a,null,r.a.createElement(h.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(j,{getUser:e.getTheUser})}}),r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(k,{getUser:e.getTheUser})}}),r.a.createElement(I,{user:this.state.loggedInUser,path:"/products/:id",component:O}),r.a.createElement(I,{user:this.state.loggedInUser,path:"/products",component:b})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=a(61);l.a.render(r.a.createElement(x.a,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.0877c9c1.chunk.js.map